<Project>
    <Target Name="AddNoCultureResxFilesAsAdditionalFiles"
            BeforeTargets="GenerateMSBuildEditorConfigFileCore;CoreCompile"
            Condition="'@(EmbeddedResource)' != ''">
        <ItemGroup>
            <ResxResources Include="@(EmbeddedResource)" Condition="'%(Extension)' == '.resx'"/>
        </ItemGroup>

        <AssignCulture Files="@(ResxResources)">
            <Output TaskParameter="AssignedFilesWithCulture" ItemName="_ResxWithCulture"/>
            <Output TaskParameter="AssignedFilesWithNoCulture" ItemName="_ResxWithNoCulture"/>
        </AssignCulture>

        <ItemGroup>
            <AdditionalFiles Include="@(_ResxWithNoCulture)"/>
        </ItemGroup>
    </Target>

    <ItemGroup>
        <CompilerVisibleItemMetadata Include="AdditionalFiles" MetadataName="RelativeDir"/>
        <CompilerVisibleProperty Include="XmlnsDefinitionNamespace"/>
        <CompilerVisibleProperty Include="ResxNamespace"/>
        <CompilerVisibleProperty Include="DefaultLocalizationProvider"/>
    </ItemGroup>
</Project>